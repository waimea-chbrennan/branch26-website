{#=====================================================
  Profile Page
  - Allows the user to change their info and contact visibility settings
TODO seperate into two sections
=====================================================#}



{% extends 'pages/base.jinja' %}


{% block title %}

    {{user.callsign}} - NARC

{% endblock %}


{% block content %}

    <h2>{{user.name}} - {{user.callsign}}</h2>

    <section>
      {# Change User Details Form #}
      <form action="/profile/update-info" method="POST">
        Full name
        <input 
          type="text"
          disabled
          value="{{user.name}}"
          required
        >
        Callsign
        <input 
          type="text"
          disabled
          value="{{user.callsign}}"
          required
        >
        Email
        <input 
          type="email" 
          name="email" 
          value="{{user.email}}"
          required
        >
        Phone
        <input 
          type="tel"
          name="phone" 
          value="{{user.phone}}"
        >
        
        Email visible to public
        <input 
          type="checkbox"
          name="email_visible"
          {% if user.email_public %}
          checked
          {% endif %}
        >
        Phone visible to public
        <input 
          type="checkbox"
          name="phone_visible"
          {% if user.phone_public %}
          checked=
          {% endif %}
        >

        <button>Update Info</button>

      </form>
    </section>



    <section>
      {# Change Password Form #}
      <form action="/profile/update-password" method="POST">
        Old Password
        <input 
          type="password" 
          name="old_password"
          required
          >

        New Password
        <input 
          type="password" 
          name="new_pass_1"
          required
          >

        Confirm Password
        <input 
          type="password" 
          name="new_pass_2"
          required
          >
          <button>Update Password</button>
      </form>
    </section>



    

{% endblock %}